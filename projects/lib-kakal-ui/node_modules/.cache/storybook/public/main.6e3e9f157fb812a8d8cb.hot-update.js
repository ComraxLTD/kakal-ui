"use strict";
globalThis["webpackHotUpdatelib_kakal_ui"]("main",{

/***/ "./src/lib/app/utilities/services/route.service.ts":
/*!*********************************************************!*\
  !*** ./src/lib/app/utilities/services/route.service.ts ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "RouterService": () => (/* binding */ RouterService)
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! tslib */ "../../node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/common */ "../../node_modules/@angular/common/fesm2015/common.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/core */ "../../node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "../../node_modules/@angular/router/fesm2015/router.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! rxjs */ "../../node_modules/rxjs/_esm2015/internal/BehaviorSubject.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs/operators */ "../../node_modules/rxjs/_esm2015/internal/operators/filter.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs/operators */ "../../node_modules/rxjs/_esm2015/internal/operators/map.js");
var _a, _b;






let RouterService = class RouterService {
    constructor(router, location) {
        this.router = router;
        this.location = location;
        this.modulePrefix$ = new rxjs__WEBPACK_IMPORTED_MODULE_0__.BehaviorSubject('lands');
        this.history = [];
        this.ListenToRoute();
    }
    goBack() {
        this.history.pop();
        if (this.history.length > 0) {
            this.location.back();
        }
        else {
            this.router.navigateByUrl('/');
        }
    }
    getCurrentPath() {
        return this.setLastPath(this.router.url);
    }
    ListenToRoute() {
        return this.router.events.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_1__.filter)((event) => event instanceof _angular_router__WEBPACK_IMPORTED_MODULE_2__.NavigationEnd), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.map)((event) => {
            this.history.push(event.urlAfterRedirects);
            return event.url;
        }));
    }
    getLastPathObs() {
        return this.ListenToRoute().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.map)((path) => this.setLastPath(path)));
    }
    async navigate(path) {
        try {
            await this.router.navigateByUrl(path);
        }
        catch (err) {
            console.log(err);
        }
    }
    setLastPath(url) {
        const path = url.split('/');
        return path[path.length - 1];
    }
    getModulePrefixObs() {
        return this.modulePrefix$.asObservable();
    }
    emitModulePrefix(path) {
        this.modulePrefix$.next(path);
    }
};
RouterService = (0,tslib__WEBPACK_IMPORTED_MODULE_4__.__decorate)([
    (0,_angular_core__WEBPACK_IMPORTED_MODULE_5__.Injectable)({
        providedIn: 'root',
    }),
    (0,tslib__WEBPACK_IMPORTED_MODULE_4__.__metadata)("design:paramtypes", [typeof (_a = typeof _angular_router__WEBPACK_IMPORTED_MODULE_2__.Router !== "undefined" && _angular_router__WEBPACK_IMPORTED_MODULE_2__.Router) === "function" ? _a : Object, typeof (_b = typeof _angular_common__WEBPACK_IMPORTED_MODULE_6__.Location !== "undefined" && _angular_common__WEBPACK_IMPORTED_MODULE_6__.Location) === "function" ? _b : Object])
], RouterService);



/***/ })

});
//# sourceMappingURL=main.6e3e9f157fb812a8d8cb.hot-update.js.map