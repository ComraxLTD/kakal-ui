"use strict";
globalThis["webpackHotUpdatelib_kakal_ui"]("main",{

/***/ "./src/lib/app/components/table/table.component.html":
/*!***********************************************************!*\
  !*** ./src/lib/app/components/table/table.component.html ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ("<div>\r\n  <mat-table\r\n    (matSortChange)=\"onSort($event)\"\r\n    mat-table\r\n    matSort\r\n    [dataSource]=\"$data | async | paginate: pagination\"\r\n    [dir]=\"'rtl'\"\r\n  >\r\n    <ng-container\r\n      *ngFor=\"let column of tableColumns || table.columns\"\r\n      [matColumnDef]=\"column.columnDef\"\r\n    >\r\n      <!-- COLUMN HEADER SECTION-->\r\n\r\n      <ng-container *ngIf=\"!column.sortable\">\r\n        <mat-header-cell\r\n          *matHeaderCellDef\r\n          [ngClass]=\"{ center: column.center }\"\r\n        >\r\n          <!-- DEFAULT HEADER -->\r\n          <app-typography [bold]=\"600\" *ngIf=\"!column.filterable\">\r\n            {{ column.label }}\r\n          </app-typography>\r\n\r\n          <ng-container\r\n            *ngIf=\"column.columnDef === 'actions' && column.slotRef\"\r\n          >\r\n            <ng-container\r\n              *ngTemplateOutlet=\"\r\n                headerSlots[column.columnDef];\r\n                context: { $implicit: column }\r\n              \"\r\n            >\r\n            </ng-container>\r\n          </ng-container>\r\n\r\n          <!-- FILTER HEADER -->\r\n          <app-column-filter\r\n            *ngIf=\"column.filterable\"\r\n            [column]=\"column\"\r\n          ></app-column-filter>\r\n        </mat-header-cell>\r\n      </ng-container>\r\n\r\n      <!-- SORT HEADER -->\r\n      <ng-container *ngIf=\"column.sortable\">\r\n        <mat-header-cell\r\n          mat-sort-header\r\n          *matHeaderCellDef\r\n          [ngClass]=\"{ center: column.center }\"\r\n          [start]=\"column.sortDir\"\r\n        >\r\n          <app-typography [bold]=\"600\" [size]=\"1.2\">\r\n            {{ column.label }}\r\n          </app-typography>\r\n        </mat-header-cell>\r\n      </ng-container>\r\n\r\n      <!-- COLUMN CELL SECTION-->\r\n\r\n      <mat-cell\r\n        *matCellDef=\"let cell; let i = index\"\r\n        [ngClass]=\"{ center: column.center }\"\r\n        [attr.colspan]=\"i\"\r\n      >\r\n        <!-- DEFAULT SECTION-->\r\n        <ng-container *ngIf=\"!cell.editable\">\r\n          <ng-container [ngSwitch]=\"column.type\">\r\n            <ng-container *ngSwitchCase=\"'custom'\">\r\n              <ng-container\r\n                *ngTemplateOutlet=\"\r\n                  rowSlots[column.columnDef];\r\n                  context: { cell: this.cell, column: this.column }\r\n                \"\r\n              >\r\n              </ng-container>\r\n            </ng-container>\r\n\r\n            <ng-container *ngSwitchCase=\"'actions'\">\r\n              <ng-container\r\n                *ngTemplateOutlet=\"\r\n                  rowSlots['actions'];\r\n                  context: { cell: this.cell, column: this.column }\r\n                \"\r\n              >\r\n              </ng-container>\r\n            </ng-container>\r\n\r\n            <ng-container *ngSwitchDefault>\r\n              <app-typography>\r\n                {{ cell.item[column.columnDef] | format: type }}\r\n              </app-typography>\r\n            </ng-container>\r\n          </ng-container>\r\n        </ng-container>\r\n\r\n        <!-- FORM SECTION-->\r\n        <ng-container *ngIf=\"cell.editable\">\r\n          <ng-container [ngSwitch]=\"column.type\">\r\n            <ng-container *ngSwitchDefault>\r\n              <div class=\"cell-input\">\r\n                <app-column-form\r\n                  *ngIf=\"column?.question\"\r\n                  [control]=\"cell.formGroup.controls[column.columnDef]\"\r\n                  [question]=\"column?.question\"\r\n                ></app-column-form>\r\n              </div>\r\n            </ng-container>\r\n            <ng-container *ngSwitchCase=\"'actions'\">\r\n              <ng-container\r\n                *ngTemplateOutlet=\"\r\n                  rowSlots['actions'];\r\n                  context: { cell: this.cell, column: this.column }\r\n                \"\r\n              >\r\n              </ng-container>\r\n            </ng-container>\r\n          </ng-container>\r\n        </ng-container>\r\n      </mat-cell>\r\n    </ng-container>\r\n\r\n    <mat-header-row\r\n      [ngClass]=\"[theme]\"\r\n      *matHeaderRowDef=\"columnDefs\"\r\n    ></mat-header-row>\r\n\r\n    <mat-row\r\n      *matRowDef=\"let row; columns: columnDefs\"\r\n      (click)=\"onRowClicked(row)\"\r\n    ></mat-row>\r\n  </mat-table>\r\n\r\n  <app-pagination [pagination]=\"pagination\"></app-pagination>\r\n</div>\r\n");

/***/ }),

/***/ "./src/lib/stories/Table.stories.ts":
/*!******************************************!*\
  !*** ./src/lib/stories/Table.stories.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__),
/* harmony export */   "Default": () => (/* binding */ Default)
/* harmony export */ });
/* harmony import */ var _storybook_angular__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @storybook/angular */ "../../node_modules/@storybook/angular/dist/ts3.9/client/index.js");
/* harmony import */ var _storybook_angular__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_storybook_angular__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/common */ "../../node_modules/@angular/common/__ivy_ngcc__/fesm2015/common.js");
/* harmony import */ var _app_components_table_table_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../app/components/table/table.component */ "./src/lib/app/components/table/table.component.ts");
/* harmony import */ var _app_components_table_models_column_model__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../app/components/table/models/column.model */ "./src/lib/app/components/table/models/column.model.ts");
/* harmony import */ var _app_utilities_models_assets_model__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../app/utilities/models/assets.model */ "./src/lib/app/utilities/models/assets.model.ts");
/* harmony import */ var ngx_pagination__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ngx-pagination */ "../../node_modules/ngx-pagination/__ivy_ngcc__/dist/ngx-pagination.js");
/* harmony import */ var _app_components_pagination_pagination_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../app/components/pagination/pagination.component */ "./src/lib/app/components/pagination/pagination.component.ts");
/* harmony import */ var _material_material_module__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../material/material.module */ "./src/lib/material/material.module.ts");
/* harmony import */ var _app_components_typography_typography_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../app/components/typography/typography.component */ "./src/lib/app/components/typography/typography.component.ts");
/* harmony import */ var _app_utilities_directives_classes_directive__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../app/utilities/directives/classes.directive */ "./src/lib/app/utilities/directives/classes.directive.ts");
/* eslint-disable */
// @ts-nocheck
// @ts-ignore
var __STORY__ = "import { moduleMetadata, Story, Meta } from '@storybook/angular';\r\nimport { CommonModule } from '@angular/common';\r\nimport { TableComponent } from '../app/components/table/table.component';\r\nimport { ColumnModel, ColumnType } from '../app/components/table/models/column.model';\r\nimport { AssetsModel } from '../app/utilities/models/assets.model';\r\nimport { NgxPaginationModule } from 'ngx-pagination';\r\nimport { PaginationComponent } from '../app/components/pagination/pagination.component';\r\nimport { MaterialModule } from '../material/material.module';\r\nimport { TypographyComponent } from '../app/components/typography/typography.component';\r\nimport { ClassesDirective } from '../app/utilities/directives/classes.directive';\r\n\r\n\r\nexport default {\r\n  title: 'Table',\r\n  component: TableComponent,\r\n  decorators: [\r\n    moduleMetadata({\r\n      declarations: [TableComponent, PaginationComponent,TypographyComponent,ClassesDirective],\r\n      providers: [],\r\n      imports: [\r\n        CommonModule,\r\n        NgxPaginationModule,\r\n        MaterialModule\r\n      ],\r\n    }),\r\n  ],\r\n} as Meta;\r\n\r\nconst Template: Story<TableComponent<any>> = (args: TableComponent<any>) => ({\r\n  props: args\r\n});\r\n\r\n\r\nconst { data, type, columns, } = {\r\n  type: new AssetsModel(),\r\n  data: [\r\n      {\r\n        id: 20,\r\n        block: 20,\r\n        division: 10,\r\n        subdivision: 0,\r\n        area: 2692,\r\n        areaOwn: 748,\r\n        property: '',\r\n        status: {\r\n          label: 'ממתין לטיפול עורך דין',\r\n          value: 4,\r\n        },\r\n        description: '',\r\n        location: 'קריית שמונה'\r\n      },\r\n      {\r\n        id: 20,\r\n        block: 20,\r\n        division: 20,\r\n        subdivision: 0,\r\n        area: 2692,\r\n        areaOwn: null,\r\n        property: '',\r\n        status: {\r\n          label: 'שוריין ע\"י פיננסים',\r\n          value: 5,\r\n        },\r\n        description: '',\r\n        location: 'קריית שמונה'\r\n      },\r\n      {\r\n        id: 24,\r\n        block: 24,\r\n        division: 20,\r\n        subdivision: 0,\r\n        area: 2692,\r\n        areaOwn: null,\r\n        property: '',\r\n        status: {\r\n          label: 'ממתין לרו\"ח',\r\n          value: 3,\r\n        },\r\n        description: '',\r\n        location: 'קריית שמונה'\r\n      },\r\n      {\r\n        id: 20,\r\n        block: 20,\r\n        division: 54,\r\n        subdivision: 0,\r\n        area: 1037,\r\n        areaOwn: null,\r\n        property: '',\r\n        status: {\r\n          label: 'התקבלה עסקה חדשה',\r\n          value: 1,\r\n        },\r\n        description: '',\r\n        location: 'קריית שמונה'\r\n      },\r\n      {\r\n        id: 20,\r\n        block: 20,\r\n        division: 20,\r\n        subdivision: 0,\r\n        area: 680,\r\n        areaOwn: null,\r\n        property: '',\r\n        status: {\r\n          label: 'ממתין לפיננסים',\r\n          value: 1,\r\n        },\r\n        description: '',\r\n        location: 'קריית שמונה'\r\n      },\r\n      {\r\n        id: 20,\r\n        block: 20,\r\n        division: 20,\r\n        subdivision: 0,\r\n        area: 2692,\r\n        areaOwn: 748,\r\n        property: '',\r\n        status: {\r\n          label: 'ממתין לטיפול עורך דין',\r\n          value: 4,\r\n        },\r\n        description: '',\r\n        location: 'קריית שמונה'\r\n      },\r\n  ],\r\n  columns: [\r\n    new ColumnModel({ label: 'גוש', type: ColumnType.NUMBER }),\r\n    new ColumnModel({ label: 'חלקה', type: ColumnType.NUMBER }),\r\n    new ColumnModel({ label: 'תת חלקה', type: ColumnType.NUMBER }),\r\n    new ColumnModel({ label: 'שטח מ\"ר', type: ColumnType.NUMBER }),\r\n    new ColumnModel({ label: 'שטח בבעלות הימנותא', type: ColumnType.NUMBER }),\r\n    new ColumnModel({ label: 'זכות במס', type: ColumnType.TEXT }),\r\n    new ColumnModel({ label: 'סטטוס', type: ColumnType.CUSTOM, center: true }),\r\n    new ColumnModel({ label: 'תיאור', type: ColumnType.TEXT }),\r\n    new ColumnModel({ label: 'יישוב', type: ColumnType.TEXT }),\r\n  ]\r\n};\r\n\r\n const status = `\r\n <ng-template #status let-cell=\"cell\">\r\n <div class=\"status\">\r\n   <app-status [status]=\"cell.item?.status\"></app-status>\r\n </div>\r\n</ng-template>\r\n `\r\n\r\nexport const Default = Template.bind({});\r\nDefault.args = {\r\n};\r\n\r\n";
// @ts-ignore
var __LOCATIONS_MAP__ = { "Default": { "startLoc": { "col": 45, "line": 29 }, "endLoc": { "col": 2, "line": 31 }, "startBody": { "col": 45, "line": 29 }, "endBody": { "col": 2, "line": 31 } } };










/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
    title: 'Table',
    component: _app_components_table_table_component__WEBPACK_IMPORTED_MODULE_1__.TableComponent,
    decorators: [
        (0,_storybook_angular__WEBPACK_IMPORTED_MODULE_0__.moduleMetadata)({
            declarations: [_app_components_table_table_component__WEBPACK_IMPORTED_MODULE_1__.TableComponent, _app_components_pagination_pagination_component__WEBPACK_IMPORTED_MODULE_4__.PaginationComponent, _app_components_typography_typography_component__WEBPACK_IMPORTED_MODULE_6__.TypographyComponent, _app_utilities_directives_classes_directive__WEBPACK_IMPORTED_MODULE_7__.ClassesDirective],
            providers: [],
            imports: [
                _angular_common__WEBPACK_IMPORTED_MODULE_8__.CommonModule,
                ngx_pagination__WEBPACK_IMPORTED_MODULE_3__.NgxPaginationModule,
                _material_material_module__WEBPACK_IMPORTED_MODULE_5__.MaterialModule
            ],
        }),
    ],
});
const Template = (args) => ({
    props: args
});
const { data, type, columns, } = {
    type: new _app_utilities_models_assets_model__WEBPACK_IMPORTED_MODULE_9__.AssetsModel(),
    data: [
        {
            id: 20,
            block: 20,
            division: 10,
            subdivision: 0,
            area: 2692,
            areaOwn: 748,
            property: '',
            status: {
                label: 'ממתין לטיפול עורך דין',
                value: 4,
            },
            description: '',
            location: 'קריית שמונה'
        },
        {
            id: 20,
            block: 20,
            division: 20,
            subdivision: 0,
            area: 2692,
            areaOwn: null,
            property: '',
            status: {
                label: 'שוריין ע"י פיננסים',
                value: 5,
            },
            description: '',
            location: 'קריית שמונה'
        },
        {
            id: 24,
            block: 24,
            division: 20,
            subdivision: 0,
            area: 2692,
            areaOwn: null,
            property: '',
            status: {
                label: 'ממתין לרו"ח',
                value: 3,
            },
            description: '',
            location: 'קריית שמונה'
        },
        {
            id: 20,
            block: 20,
            division: 54,
            subdivision: 0,
            area: 1037,
            areaOwn: null,
            property: '',
            status: {
                label: 'התקבלה עסקה חדשה',
                value: 1,
            },
            description: '',
            location: 'קריית שמונה'
        },
        {
            id: 20,
            block: 20,
            division: 20,
            subdivision: 0,
            area: 680,
            areaOwn: null,
            property: '',
            status: {
                label: 'ממתין לפיננסים',
                value: 1,
            },
            description: '',
            location: 'קריית שמונה'
        },
        {
            id: 20,
            block: 20,
            division: 20,
            subdivision: 0,
            area: 2692,
            areaOwn: 748,
            property: '',
            status: {
                label: 'ממתין לטיפול עורך דין',
                value: 4,
            },
            description: '',
            location: 'קריית שמונה'
        },
    ],
    columns: [
        new _app_components_table_models_column_model__WEBPACK_IMPORTED_MODULE_2__.ColumnModel({ label: 'גוש', type: _app_components_table_models_column_model__WEBPACK_IMPORTED_MODULE_2__.ColumnType.NUMBER }),
        new _app_components_table_models_column_model__WEBPACK_IMPORTED_MODULE_2__.ColumnModel({ label: 'חלקה', type: _app_components_table_models_column_model__WEBPACK_IMPORTED_MODULE_2__.ColumnType.NUMBER }),
        new _app_components_table_models_column_model__WEBPACK_IMPORTED_MODULE_2__.ColumnModel({ label: 'תת חלקה', type: _app_components_table_models_column_model__WEBPACK_IMPORTED_MODULE_2__.ColumnType.NUMBER }),
        new _app_components_table_models_column_model__WEBPACK_IMPORTED_MODULE_2__.ColumnModel({ label: 'שטח מ"ר', type: _app_components_table_models_column_model__WEBPACK_IMPORTED_MODULE_2__.ColumnType.NUMBER }),
        new _app_components_table_models_column_model__WEBPACK_IMPORTED_MODULE_2__.ColumnModel({ label: 'שטח בבעלות הימנותא', type: _app_components_table_models_column_model__WEBPACK_IMPORTED_MODULE_2__.ColumnType.NUMBER }),
        new _app_components_table_models_column_model__WEBPACK_IMPORTED_MODULE_2__.ColumnModel({ label: 'זכות במס', type: _app_components_table_models_column_model__WEBPACK_IMPORTED_MODULE_2__.ColumnType.TEXT }),
        new _app_components_table_models_column_model__WEBPACK_IMPORTED_MODULE_2__.ColumnModel({ label: 'סטטוס', type: _app_components_table_models_column_model__WEBPACK_IMPORTED_MODULE_2__.ColumnType.CUSTOM, center: true }),
        new _app_components_table_models_column_model__WEBPACK_IMPORTED_MODULE_2__.ColumnModel({ label: 'תיאור', type: _app_components_table_models_column_model__WEBPACK_IMPORTED_MODULE_2__.ColumnType.TEXT }),
        new _app_components_table_models_column_model__WEBPACK_IMPORTED_MODULE_2__.ColumnModel({ label: 'יישוב', type: _app_components_table_models_column_model__WEBPACK_IMPORTED_MODULE_2__.ColumnType.TEXT }),
    ]
};
const status = `
 <ng-template #status let-cell="cell">
 <div class="status">
   <app-status [status]="cell.item?.status"></app-status>
 </div>
</ng-template>
 `;
const Default = Template.bind({});
Default.args = {};
Default.parameters = Object.assign({ storySource: { source: "(args: TableComponent<any>) => ({\r\n  props: args\r\n})" } }, Default.parameters);


/***/ }),

/***/ "./src/lib/app/components/columns/columns.service.ts":
/*!***********************************************************!*\
  !*** ./src/lib/app/components/columns/columns.service.ts ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ColumnsService": () => (/* binding */ ColumnsService)
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! tslib */ "../../node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "../../node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js");
/* harmony import */ var _table_models_column_model__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../table/models/column.model */ "./src/lib/app/components/table/models/column.model.ts");



let ColumnsService = class ColumnsService {
    constructor() { }
    setColumnDefsFromType(model) {
        return Object.keys(model);
    }
    filterColumnDefs(columnDefs, filters) {
        return columnDefs.filter((item) => !filters.includes(item));
    }
    setColumnDefs(model, filters) {
        return this.filterColumnDefs(this.setColumnDefsFromType(model), filters);
    }
    setColumnWithColumnDefs(columns, columnDefs) {
        return columns.map((column, i) => {
            return new _table_models_column_model__WEBPACK_IMPORTED_MODULE_0__.ColumnModel(Object.assign(Object.assign({}, column), { columnDef: column.columnDef || columnDefs[i] }));
        });
    }
    setColumnDefsFromColumns(columns, columnDefs) {
        if (columns.length > columnDefs.length) {
            columnDefs = columns.map((column) => column.columnDef);
        }
        return columnDefs;
    }
    initColumnsDefs(model, filters) {
        return this.setColumnDefs(model, filters);
    }
    getColumnsDefs(columns, columnDefs) {
        return this.setColumnDefsFromColumns(columns, columnDefs);
    }
    getColumns(model, filters, tableColumns) {
        const columnsDefs = this.initColumnsDefs(model, filters);
        const columns = this.setColumnWithColumnDefs(tableColumns, columnsDefs);
        return { columns, columnsDefs: this.getColumnsDefs(columns, columnsDefs) };
    }
};
ColumnsService = (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__decorate)([
    (0,_angular_core__WEBPACK_IMPORTED_MODULE_2__.Injectable)({
        providedIn: 'root',
    }),
    (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__metadata)("design:paramtypes", [])
], ColumnsService);



/***/ }),

/***/ "./src/lib/app/components/table/models/column.model.ts":
/*!*************************************************************!*\
  !*** ./src/lib/app/components/table/models/column.model.ts ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ColumnType": () => (/* binding */ ColumnType),
/* harmony export */   "ColumnModel": () => (/* binding */ ColumnModel)
/* harmony export */ });
/* harmony import */ var _form_services_form_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../form/services/form.service */ "./src/lib/app/components/form/services/form.service.ts");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/forms */ "../../node_modules/@angular/forms/__ivy_ngcc__/fesm2015/forms.js");


var ColumnType;
(function (ColumnType) {
    ColumnType["NUMBER"] = "number";
    ColumnType["DATE"] = "date";
    ColumnType["TEXT"] = "text";
    ColumnType["CUSTOM"] = "custom";
    ColumnType["ACTIONS"] = "actions";
    ColumnType["EXPEND"] = "expend";
})(ColumnType || (ColumnType = {}));
class ColumnModel {
    constructor(options) {
        this.formService = new _form_services_form_service__WEBPACK_IMPORTED_MODULE_0__.FormService(new _angular_forms__WEBPACK_IMPORTED_MODULE_1__.FormBuilder());
        this.columnDef = (options === null || options === void 0 ? void 0 : options.columnDef) || '';
        this.label = (options === null || options === void 0 ? void 0 : options.label) || '';
        this.type = (options === null || options === void 0 ? void 0 : options.type) || ColumnType.TEXT;
        this.cell = (element) => `${element[this.columnDef]}`;
        this.control = options === null || options === void 0 ? void 0 : options.control;
        this.question = options === null || options === void 0 ? void 0 : options.question;
        this.slotRef = (options === null || options === void 0 ? void 0 : options.slotRef) || null;
        this.center = (options === null || options === void 0 ? void 0 : options.center) || false;
        this.selectable = (options === null || options === void 0 ? void 0 : options.selectable) || false;
        this.sortable = (options === null || options === void 0 ? void 0 : options.sortable) || false;
        this.sortDir = (options === null || options === void 0 ? void 0 : options.sortDir) || 'asc';
        this.filterable = (options === null || options === void 0 ? void 0 : options.filterable) || false;
        this.filterOptions = (options === null || options === void 0 ? void 0 : options.filterOptions) || [];
    }
}


/***/ }),

/***/ "./src/lib/app/components/table/table.component.ts":
/*!*********************************************************!*\
  !*** ./src/lib/app/components/table/table.component.ts ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "TableComponent": () => (/* binding */ TableComponent)
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! tslib */ "../../node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "../../node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js");
/* harmony import */ var _angular_material_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/material/core */ "../../node_modules/@angular/material/__ivy_ngcc__/fesm2015/core.js");
/* harmony import */ var _table_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./table.service */ "./src/lib/app/components/table/table.service.ts");
/* harmony import */ var _table_datasource__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./table-datasource */ "./src/lib/app/components/table/table-datasource.ts");
/* harmony import */ var _utilities_pipes_format_pipe__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utilities/pipes/format.pipe */ "./src/lib/app/utilities/pipes/format.pipe.ts");
var _a, _b, _c, _d, _e, _f;






let TableComponent = class TableComponent {
    constructor(tableService, format) {
        this.tableService = tableService;
        this.format = format;
        this.register = new _angular_core__WEBPACK_IMPORTED_MODULE_2__.EventEmitter();
        this.sort = new _angular_core__WEBPACK_IMPORTED_MODULE_2__.EventEmitter();
        this.filter = new _angular_core__WEBPACK_IMPORTED_MODULE_2__.EventEmitter();
    }
    ngOnInit() {
        this.theme = this.theme || 'accent';
        this.setTable();
    }
    setTable() {
        const { pagination, filters } = this.options;
        this.dataSource = new _table_datasource__WEBPACK_IMPORTED_MODULE_3__.TableDataSource(this.data, this.options);
        const data$ = this.dataSource.connectToRows();
        const { columns, columnsDefs } = this.tableService.setColumns(this.columns, this.model, [...filters]);
        this.$data = data$;
        this.tableColumns = columns;
        this.columnDefs = columnsDefs;
        this.pagination = pagination;
        this.register.emit(this.dataSource);
        this.subscribeToRowEdit();
    }
    ngOnDestroy() {
        if (this.subscription) {
            this.subscription.unsubscribe();
        }
    }
    onRowClicked(row) { }
    onSort(sort) {
        this.sort.emit(sort);
    }
    onFilter(row) {
        this.filter.emit(row);
    }
    subscribeToRowEdit() {
        this.subscription = this.dataSource
            .connectEdit()
            .subscribe((data) => {
            const { row, options } = data;
            const rows = this.dataSource.getRows();
            const index = this.tableService.findRowIndex(rows, 'id', row.item);
            const { editRow, columns } = this.tableService.onEditMode(row, this.tableColumns, options);
            rows[index] = editRow;
            this.tableColumns = columns;
            this.dataSource.loadRows(rows);
        });
    }
    getProperty(obj, key) {
        return obj[key];
    }
};
(0,tslib__WEBPACK_IMPORTED_MODULE_4__.__decorate)([
    (0,_angular_core__WEBPACK_IMPORTED_MODULE_2__.Input)(),
    (0,tslib__WEBPACK_IMPORTED_MODULE_4__.__metadata)("design:type", typeof (_a = typeof _angular_material_core__WEBPACK_IMPORTED_MODULE_5__.ThemePalette !== "undefined" && _angular_material_core__WEBPACK_IMPORTED_MODULE_5__.ThemePalette) === "function" ? _a : Object)
], TableComponent.prototype, "theme", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_4__.__decorate)([
    (0,_angular_core__WEBPACK_IMPORTED_MODULE_2__.Input)(),
    (0,tslib__WEBPACK_IMPORTED_MODULE_4__.__metadata)("design:type", Array)
], TableComponent.prototype, "data", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_4__.__decorate)([
    (0,_angular_core__WEBPACK_IMPORTED_MODULE_2__.Input)(),
    (0,tslib__WEBPACK_IMPORTED_MODULE_4__.__metadata)("design:type", Array)
], TableComponent.prototype, "columns", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_4__.__decorate)([
    (0,_angular_core__WEBPACK_IMPORTED_MODULE_2__.Input)(),
    (0,tslib__WEBPACK_IMPORTED_MODULE_4__.__metadata)("design:type", Object)
], TableComponent.prototype, "model", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_4__.__decorate)([
    (0,_angular_core__WEBPACK_IMPORTED_MODULE_2__.Input)(),
    (0,tslib__WEBPACK_IMPORTED_MODULE_4__.__metadata)("design:type", Object)
], TableComponent.prototype, "options", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_4__.__decorate)([
    (0,_angular_core__WEBPACK_IMPORTED_MODULE_2__.Input)(),
    (0,tslib__WEBPACK_IMPORTED_MODULE_4__.__metadata)("design:type", Object)
], TableComponent.prototype, "rowSlots", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_4__.__decorate)([
    (0,_angular_core__WEBPACK_IMPORTED_MODULE_2__.Input)(),
    (0,tslib__WEBPACK_IMPORTED_MODULE_4__.__metadata)("design:type", Object)
], TableComponent.prototype, "headerSlots", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_4__.__decorate)([
    (0,_angular_core__WEBPACK_IMPORTED_MODULE_2__.Output)(),
    (0,tslib__WEBPACK_IMPORTED_MODULE_4__.__metadata)("design:type", typeof (_b = typeof _angular_core__WEBPACK_IMPORTED_MODULE_2__.EventEmitter !== "undefined" && _angular_core__WEBPACK_IMPORTED_MODULE_2__.EventEmitter) === "function" ? _b : Object)
], TableComponent.prototype, "register", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_4__.__decorate)([
    (0,_angular_core__WEBPACK_IMPORTED_MODULE_2__.Output)(),
    (0,tslib__WEBPACK_IMPORTED_MODULE_4__.__metadata)("design:type", typeof (_c = typeof _angular_core__WEBPACK_IMPORTED_MODULE_2__.EventEmitter !== "undefined" && _angular_core__WEBPACK_IMPORTED_MODULE_2__.EventEmitter) === "function" ? _c : Object)
], TableComponent.prototype, "sort", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_4__.__decorate)([
    (0,_angular_core__WEBPACK_IMPORTED_MODULE_2__.Output)(),
    (0,tslib__WEBPACK_IMPORTED_MODULE_4__.__metadata)("design:type", typeof (_d = typeof _angular_core__WEBPACK_IMPORTED_MODULE_2__.EventEmitter !== "undefined" && _angular_core__WEBPACK_IMPORTED_MODULE_2__.EventEmitter) === "function" ? _d : Object)
], TableComponent.prototype, "filter", void 0);
TableComponent = (0,tslib__WEBPACK_IMPORTED_MODULE_4__.__decorate)([
    (0,_angular_core__WEBPACK_IMPORTED_MODULE_2__.Component)({
        selector: 'app-table',
        template: (__webpack_require__(/*! ./table.component.html */ "./src/lib/app/components/table/table.component.html").default || __webpack_require__(/*! ./table.component.html */ "./src/lib/app/components/table/table.component.html")).length ? (__webpack_require__(/*! ./table.component.html */ "./src/lib/app/components/table/table.component.html").default || __webpack_require__(/*! ./table.component.html */ "./src/lib/app/components/table/table.component.html")) : '',
        styles: [(__webpack_require__(/*! ./table.component.scss */ "./src/lib/app/components/table/table.component.scss").default || __webpack_require__(/*! ./table.component.scss */ "./src/lib/app/components/table/table.component.scss")).length ? (__webpack_require__(/*! ./table.component.scss */ "./src/lib/app/components/table/table.component.scss").default || __webpack_require__(/*! ./table.component.scss */ "./src/lib/app/components/table/table.component.scss")) : ''],
        providers: [_table_service__WEBPACK_IMPORTED_MODULE_0__.TableService, _table_service__WEBPACK_IMPORTED_MODULE_0__.TableService],
    }),
    (0,tslib__WEBPACK_IMPORTED_MODULE_4__.__metadata)("design:paramtypes", [typeof (_e = typeof _table_service__WEBPACK_IMPORTED_MODULE_0__.TableService !== "undefined" && _table_service__WEBPACK_IMPORTED_MODULE_0__.TableService) === "function" ? _e : Object, typeof (_f = typeof _utilities_pipes_format_pipe__WEBPACK_IMPORTED_MODULE_1__.FormatPipe !== "undefined" && _utilities_pipes_format_pipe__WEBPACK_IMPORTED_MODULE_1__.FormatPipe) === "function" ? _f : Object])
], TableComponent);



/***/ }),

/***/ "./src/lib/app/components/table/table.service.ts":
/*!*******************************************************!*\
  !*** ./src/lib/app/components/table/table.service.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "TableService": () => (/* binding */ TableService)
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! tslib */ "../../node_modules/tslib/tslib.es6.js");
/* harmony import */ var _models_row_model__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./models/row.model */ "./src/lib/app/components/table/models/row.model.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/core */ "../../node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js");
/* harmony import */ var _form_services_form_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../form/services/form.service */ "./src/lib/app/components/form/services/form.service.ts");
/* harmony import */ var _models_column_model__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./models/column.model */ "./src/lib/app/components/table/models/column.model.ts");
/* harmony import */ var _columns_columns_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../columns/columns.service */ "./src/lib/app/components/columns/columns.service.ts");
var _a, _b;






let TableService = class TableService {
    constructor(columnsService, formService) {
        this.columnsService = columnsService;
        this.formService = formService;
    }
    setColumns(columns, model, filters) {
        return this.columnsService.getColumns(model, filters, columns);
    }
    findRowIndex(rows, key, item) {
        return rows.findIndex((row) => row.item[key] === item[key]);
    }
    getProperty(obj, key) {
        return obj[key];
    }
    // method to update form  data to table
    onSaveMode(tableRows, key, item) {
        const rows = [...tableRows];
        const index = this.findRowIndex(rows, key, item);
        rows[index].editable = false;
        rows[index].item = rows[index].formGroup.value;
        return rows;
    }
    onAddFormRow(table) {
        const row = new _models_row_model__WEBPACK_IMPORTED_MODULE_3__.RowModel();
        table.rows.unshift(row);
        // this.onEditMode(row, table, 0);
    }
    onEditTable(row, tableRows, tableColumns, index, options) {
        const { editRow, columns } = this.onEditMode(row, tableColumns, options);
        const rows = [...tableRows];
        rows[index] = editRow;
        return { rows, columns };
    }
    updateRow(row, questions) {
        const editRow = new _models_row_model__WEBPACK_IMPORTED_MODULE_3__.RowModel(Object.assign({}, row));
        editRow.editable = true;
        editRow.formGroup = this.formService.setFormGroup(questions);
        return editRow;
    }
    onEditMode(row, tableColumns, editOptions) {
        const questions = this.setQuestions(tableColumns);
        const columns = this.updateColumns(tableColumns, questions);
        const editRow = this.updateRow(row, questions);
        editRow.formGroup.patchValue(Object.assign(Object.assign({}, editRow.item), editOptions));
        return { editRow, columns };
    }
    updateColumns(tableColumns, questions) {
        return tableColumns.map((column, i) => {
            return Object.assign(Object.assign({}, column), { question: questions.find((question) => question.key === column.columnDef) });
        });
    }
    // method to update form inputs on edit mode
    updateFormState(row, options) {
        const { formGroup, item } = row;
        formGroup.patchValue(Object.assign(Object.assign({}, item), options));
        return formGroup;
    }
    setQuestions(tableColumns) {
        const columns = tableColumns;
        if (columns) {
            return columns
                .filter((column) => column.type !== _models_column_model__WEBPACK_IMPORTED_MODULE_1__.ColumnType.ACTIONS)
                .map((column) => {
                const question = this.formService.setQuestion(column.control, {
                    key: column.columnDef,
                    label: column.label,
                });
                return question;
            });
        }
        return [];
    }
};
TableService = (0,tslib__WEBPACK_IMPORTED_MODULE_4__.__decorate)([
    (0,_angular_core__WEBPACK_IMPORTED_MODULE_5__.Injectable)({
        providedIn: 'root',
    }),
    (0,tslib__WEBPACK_IMPORTED_MODULE_4__.__metadata)("design:paramtypes", [typeof (_a = typeof _columns_columns_service__WEBPACK_IMPORTED_MODULE_2__.ColumnsService !== "undefined" && _columns_columns_service__WEBPACK_IMPORTED_MODULE_2__.ColumnsService) === "function" ? _a : Object, typeof (_b = typeof _form_services_form_service__WEBPACK_IMPORTED_MODULE_0__.FormService !== "undefined" && _form_services_form_service__WEBPACK_IMPORTED_MODULE_0__.FormService) === "function" ? _b : Object])
], TableService);



/***/ })

});
//# sourceMappingURL=main.2e138f0b505f2b913119.hot-update.js.map