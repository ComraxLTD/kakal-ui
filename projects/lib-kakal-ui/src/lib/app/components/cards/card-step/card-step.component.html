<div [ngClass]="type" fxLayout="column" fxLayoutAlign="center center" fxFill>
  <div
    appSize
    [size]="6"
    (click)="onStepClick()"
    [matBadge]="step.value"
    matBadgeColor="accent"
    matBadgeSize="medium"
  >
    <mat-card
      appVariant
      [type]="step.type"
      [variant]="step.variant"
      [ngClass]="{
        'mat-elevation-z0': true,
        active: (active$ | async)
      }"
    >
      <mat-card-content appButton>
        <div fxLayout="column" fxLayoutAlign="center center">
          <div fxFlex="80">
            <kkl-icon
              [active$]="active$"
              [color]="'default'"
              type="svg"
              [key]="step.svgUrl || ''"
              [size]="step.size"
            >
            </kkl-icon>
          </div>
        </div>
      </mat-card-content>
    </mat-card>
  </div>
  <div
    class="label-container"
    fxLayout="column"
    fxLayoutAlign="center center"
    fxFlex="40"
  >
    <kkl-typography
      [ngClass]="{ active: (active$ | async) }"
      [classes]="stepTextClasses"
      [activeClasses]="activeStepTextClasses"
      [active$]="active$"
      [size]="1.1"
    >
      {{ step.label }}
    </kkl-typography>
  </div>
</div>
