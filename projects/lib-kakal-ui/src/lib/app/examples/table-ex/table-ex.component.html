<div class="container" fxLayout="column" fxLayoutAlign="center center">
  <div class="table">
    <kkl-table
      [data$]="data$"
      [columns]="columns"
      [model]="model"
      [options]="options"
      [rowSlots]="{status, area, actions}"
      [formSlots]="{block}"
      [expandSlots]="{area, accordion : accordionSlot}"
      [expendable]="expendable"
      [accordion]="accordion"
      [hasActions]="hasActions"
      [selectable]="selectable"
      [hasState]="hasState"
      (register)="onRegister($event)"
    ></kkl-table>
  </div>
</div>

<ng-template #block let-question="question" let-row="row" let-control="control">
  <mat-slide-toggle
    (change)="onSlideChange($event)"
    (toggleChange)="onToggleChange(row)"
    [formControl]="control"
    [color]="color"
    [checked]="checked"
    [disabled]="disabled"
  >
    {{ question.key }}
  </mat-slide-toggle></ng-template
>

<ng-template #status let-row="row">
  <div class="status">
    <app-status [status]="row.item?.status"></app-status>
  </div>
</ng-template>

<ng-template #area let-row="row" let-column="column">
  <button mat-button appBorder (click)="onExpand(row, column)">
    <kkl-typography>expand row</kkl-typography>
  </button>
</ng-template>

<ng-template #actions let-row="row">
  <button color="accent" mat-raised-button type="button">
    <kkl-typography>לחץ</kkl-typography>
  </button>
</ng-template>

<ng-template #accordionSlot let-row="row">
  <kkl-typography>working !</kkl-typography>
</ng-template>

