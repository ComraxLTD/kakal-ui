<div>
  <mat-form-field
    [color]="question.theme"
    [ngClass]="{ 'input-slot': controlType === 'custom' }"
    [appearance]="control.disabled ? 'fill' : appearance || 'outline'"
  >
    <mat-label *ngIf="controlType !== 'custom'">{{ label }}</mat-label>

    <ng-container [ngSwitch]="controlType">
      <!-- TEXTAREA -->
      <ng-container *ngSwitchCase="'textarea'">
        <textarea
          matInput
          [rows]="gridProps?.rows * 2"
          [formControl]="control"
          [name]="question.key"
          (focusout)="validate()"
          (focus)="onFocus()"
          #textarea
        ></textarea>
      </ng-container>

      <!-- CLEAVE FORMAT -->
      <ng-container *ngSwitchCase="'cleave'">
        <input
          matInput
          autocomplete="off"
          [formControl]="control"
          [cleave]="question.cleave"
          [name]="question?.key"
          [type]="'text'"
          (focusout)="validate()"
          (focus)="onFocus()"
          #input
        />
      </ng-container>

      <!-- TEXT/NUMBER -->
      <ng-container *ngSwitchDefault>
        <input
          matInput
          autocomplete="off"
          [formControl]="control"
          [name]="question?.key"
          [type]="controlType"
          (focusout)="validate()"
          (focus)="onFocus()"
          #input
        />
      </ng-container>
    </ng-container>
    <kkl-icon
      *ngIf="icon"
      matSuffix
      [color]="color$ | async"
      [size]="1.8"
      [key]="icon"
    ></kkl-icon>
    <mat-error>{{ error$ | async }}</mat-error>
  </mat-form-field>
</div>
