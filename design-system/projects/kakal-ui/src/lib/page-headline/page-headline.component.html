<div dir="rtl" fxLayout="row" fxLayoutAlign="start end" fxLayoutGap="1rem">
  <ng-container *ngIf="pageHeadline$ | async | slice: 0:slice as headlineItems">
    <div
      *ngFor="
        let item of headlineItems;
        let first = first;
        let last = last;
        let i = index
      "
      fxLayout="row"
      fxLayoutAlign="space-between center"
      fxLayoutGap=".5rem"
    >
      <ng-container *ngIf="item.status; else normalTemp">
        <kkl-status-progress dir="ltr" [status]="item.value"></kkl-status-progress>
      </ng-container>

      <ng-template #normalTemp>
        <ng-container *ngIf="item.button;else noButton">
          <button
            style="width: 100%; padding: 0 5px;"
            mat-button
            color="primary"
            (click)="onHeadlineClick(item)"
          >
            <span
              fxLayoutAlign="start center"
            >
              <span
                  fxLayout="row"

                >
                <span style="border-bottom: 1px solid; text-align: start;">
                  <kkl-typography *ngIf="first; else other" [size]="2.125" [weight]="600">
                    {{ item?.value | format: item?.format }}
                  </kkl-typography>
                </span>
              </span>
              <kkl-icon
                style="padding: 0 10px;"
                [color]="'primary'"
                *ngIf="item.icon"
                [key]="item.icon"
              ></kkl-icon>
            </span>
          </button>
        </ng-container>
        <ng-template #noButton>
          <kkl-typography *ngIf="first; else other" [size]="2.125" [weight]="600" (click)="onHeadlineClick(item)">
            {{ item?.value | format: item?.format }}
          </kkl-typography>
        </ng-template>
      </ng-template>

      <ng-template #other>
        <kkl-typography [size]="1.8" [weight]="500">
          {{ item?.value | format: item?.format }}
        </kkl-typography>
      </ng-template>

      <kkl-typography
        *ngIf="!last"
        [size]="2"
        [weight]="500"
        [color]="'primary'"
        >&#8226;</kkl-typography
      >
    </div>
  </ng-container>
</div>
