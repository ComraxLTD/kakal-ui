<div fxLayout="row">
  <ng-container *ngIf="filtersState">
    {{ filtersState | json }}
    <kkl-chip-list>
      <ng-container *ngFor="let item of filtersState | keyvalue">
        <ng-container
          *ngIf="item.value.filterType === 'multiSelect'; else elseBlock"
        >
          <ng-container *ngFor="let option of item.value.value">
            <kkl-chip> {{ option | pluck: "label" }} </kkl-chip>
          </ng-container>
        </ng-container>

        <ng-template #elseBlock>
          <ng-container [ngSwitch]="item.value.filterType">
            <kkl-chip (removed)="onRemoveFilter(item.key)">
              <ng-container *ngSwitchCase="'select'">{{
                item.value.value | pluck: "label"
              }}</ng-container>

              <ng-container *ngSwitchCase="'dateRange'">
                {{ item.value.value.start | date: "YYYY/MM/dd" }} -
                {{ item.value.value.end | date: "YYYY/MM/dd" }}
              </ng-container>

              <ng-container *ngSwitchCase="'numberRange'">
                {{ item.value.value.start }} -
                {{ item.value.value.end }}
              </ng-container>

              <ng-container *ngSwitchDefault>{{
                item.value.value
              }}</ng-container>
            </kkl-chip>
          </ng-container>
        </ng-template>
      </ng-container>
    </kkl-chip-list>
  </ng-container>
  <div>
    <button mat-button (click)="onClearFilters()">
      <kkl-typography [underline]="true"> בטל סינונים </kkl-typography>
    </button>
  </div>
</div>
