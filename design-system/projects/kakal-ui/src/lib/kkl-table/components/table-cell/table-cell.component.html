<ng-container *ngIf="column.cellTemplate; else noTemplate">
  <div [ngSwitch]="column.cellTemplate">
    <div *ngSwitchDefault>
      <ng-container
        *ngTemplateOutlet="
          colsTemplate[column.cellTemplate];
          context: { $implicit: data, row, columnKey }
        "
      ></ng-container>
    </div>
  </div>
</ng-container>
<ng-template #noTemplate>
  <span
    style="width: 100%; padding: 0 5px;"
    fxLayout="row"
    fxLayoutAlign="start center"
  >
    <kkl-icon
      *ngIf="column.colIcon"
      color="primary"
      [key]="column.colIcon"
      style="display: inline-block; padding-left: 8px"
    ></kkl-icon>
    <span
      style="width: 100%;"
      *ngIf="column.button;
      else withoutButton"
    >
      <button
        style="width: 100%; padding: 0 5px;"
        mat-button
        color="primary"
        (click)="onClick()"
      >
        <span
          fxLayoutAlign="start center"
        >
          <span
              *ngIf="data"
              fxLayout="row"
              style="white-space: pre-wrap; line-height: normal;"
            >
            <span style="border-bottom: 1px solid; text-align: start;">
              {{
                column.button?.label
                  ? column.button.label
                  : (data | tableCellPipe: column.controlType)
              }}
            </span>
          </span>
          <kkl-icon
            style="padding: 0 10px;"
            [color]="'primary'"
            *ngIf="
              column.button.icon ||
              column.button.type === 'inlineExpand'
            "
            [key]="column.button.icon || 'expand_more'"
          ></kkl-icon>
        </span>
      </button>
    </span>
    <ng-template #withoutButton>
      <div
        *ngIf="data"
        style="white-space: pre-wrap; font-size: 14px !important;"
      >
        <span>
          {{ data | tableCellPipe: column.controlType }}
        </span>
      </div>
    </ng-template>
  </span>
</ng-template>
