<mat-stepper
  class="kkl-vertical-steps"
  orientation="vertical"
  [linear]="isLinear"
  #stepper
  (selectionChange)="onSelectionChanged($event)"
>
  <ng-container *ngFor="let step of steps; let i = index">
    <mat-step (interacted)="onInteractedStream($event)" [stepControl]="step.control || step.key" completed>
      <ng-template matStepLabel>
        <kkl-typography [size]="2.4" color="primary" [weight]="600">
          {{ step.label }} .{{ i + 1 }}
        </kkl-typography>
      </ng-template>
      <div fxLayout="row" fxLayoutAlign="end">
        <div fxFlex="95">
          <ng-container *ngTemplateOutlet="templates[step.key]"></ng-container>
        </div>
      </div>
    </mat-step>
  </ng-container>

  <!-- Icon overrides. -->
  <ng-template matStepperIcon="done">
    <mat-icon>done</mat-icon>
  </ng-template>
</mat-stepper>
