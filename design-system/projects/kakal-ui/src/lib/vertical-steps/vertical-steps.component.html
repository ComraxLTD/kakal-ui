<!-- (selectionChange)="onSelectionChanged($event)" -->
<div
  fxLayout="row"
  [class.padding-bottom]="(listenToShowNextMiddle$ | async).show == true"
>
  <div class="mobile-hidden">
    <mat-vertical-stepper
      #stepper
      fxFlex="nogrow"
      class="kkl-vertical-steps"
      [(selectedIndex)]="_selectedIndex"
      [disableRipple]="true"
      (selectionChange)="onSelectionChanged($event)"
    >
      <ng-container>
        <mat-step
          [completed]="step.completed"
          [stepControl]="step.control"
          *ngFor="let step of steps; let i = index"
        >
        </mat-step>
      </ng-container>

      <!-- Icon overrides. -->
      <ng-template matStepperIcon="done">
        <mat-icon>done</mat-icon>
      </ng-template>
    </mat-vertical-stepper>
  </div>
  <div fxFlex="grow" fxFill dir="rtl" fxLayoutGap="3rem" fxLayout="column">
    <div fxLayout="row" class="text-container">
      <kkl-typography color="primary" [weight]="600" [size]="1.8">
        {{ _selectedIndex + 1 }}.
        {{ steps[_selectedIndex].label }}</kkl-typography
      >
    </div>
    <ng-container *ngTemplateOutlet="templates[cellTemplate]"></ng-container>
  </div>
</div>
