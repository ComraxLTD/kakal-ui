<mat-toolbar
  dir="rtl"
  class="navbar"
  fxLayout="row"
  fxLayoutAlign="start center"
>
  <!-- toggle menu button -->
  <div
    fxFill
    fxLayout="column"
    fxLayoutAlign="center center"
    fxFlex="5rem"
    fxLayoutGap="0.5rem"
    kkl-underline
    kkl-button
    (click)="toggleMenu()"
  >
    <kkl-icon
      color="primary"
      kkl-button
      [key]="isOpen ? openIcon : 'tree'"
      [size]="4"
    ></kkl-icon>
    <div fxFlex="10" fxLayoutAlign="start center">
      <kkl-typography [size]="1" color="primary">
        {{ isOpen ? closeLabel : openLabel }}
      </kkl-typography>
    </div>
  </div>

  <div
    fxLayout="column"
    fxLayoutAlign="center start"
    fxFlex
    fxFlexOffset="1rem"
  >
    <div>
      <kkl-bread-crumbs></kkl-bread-crumbs>
    </div>
    <div>
      <kkl-page-headline [pageHeadline$]="pageHeadline$"></kkl-page-headline>
    </div>
  </div>

  <!-- main navbar links -->
  <div fxFlex="grow" *ngIf="!(mobile$ | async)">
    <div fxLayoutAlign="center center" *ngIf="showStatus$ | async">
      <kkl-status-group [steps]="status"></kkl-status-group>
    </div>
  </div>

  <div fxFlex></div>

  <!-- left side logo -->
  <div fxFlex fxLayout="row" fxLayoutAlign="end center" fxLayoutGap="1rem">
    <div kkl-button (click)="onLogoClick()">
      <kkl-icon [key]="'logo'" [size]="6"></kkl-icon>
    </div>
    <div *ngFor="let logo of icons" kkl-button>
      <kkl-icon [key]="logo.key" [size]="6"></kkl-icon>
    </div>
  </div>
</mat-toolbar>

<ng-container *ngIf="mobile$ | async">
  <mat-toolbar dir="rtl" *ngIf="show$ | async" class="mobile-status">
    <div fxFlex="grow" fxFill>
      <div fxLayoutAlign="center center">
        <kkl-stepper direction="row" [steps$]="status$"></kkl-stepper>
      </div>
    </div>
  </mat-toolbar>
</ng-container>
