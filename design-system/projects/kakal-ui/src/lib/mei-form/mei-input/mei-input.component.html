<mat-form-field class="kkl-form-input" [color]="theme" [appearance]="control.disabled ? 'fill' : appearance">
  <mat-label>{{ label }}</mat-label>

  <ng-container [ngSwitch]="controlType">
    <!-- TEXTAREA -->
    <ng-container *ngSwitchCase="'textarea'">
      <textarea matInput [rows]="gridProps?.rows * 2" [formControl]="control" [name]="key" (focusout)="validate()" (focus)="onFocus()"></textarea>
    </ng-container>


    <ng-container *ngSwitchCase="'phone'">
      <input matInput [formControl]="control" [name]="key" [type]="'text'" phoneInput
        (focusout)="validate()" (focus)="onFocus()" />
    </ng-container>

    <ng-container *ngSwitchCase="'sum'">
      <input matInput [formControl]="control" [name]="key" [type]="'text'" sumInput
        (focusout)="validate()" (focus)="onFocus()" />
    </ng-container>

    <!-- TEXT/NUMBER -->
    <ng-container *ngSwitchDefault>
      <input matInput [formControl]="control" [name]="key" [type]="controlType"
        (focusout)="validate()" (focus)="onFocus()"/>
    </ng-container>
  </ng-container>

  <kkl-icon *ngIf="icon" matSuffix [color]="color$ | async" [size]="1.8" [key]="icon"></kkl-icon>

  <mat-error>{{ error$ | async }}</mat-error>
</mat-form-field>
