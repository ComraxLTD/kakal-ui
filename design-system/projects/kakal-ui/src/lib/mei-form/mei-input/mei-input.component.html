<mat-form-field class="kkl-form-input" [color]="theme" [appearance]="control.disabled ? 'fill' : appearance">
  <mat-label>{{ label }}</mat-label>

  <ng-container [ngSwitch]="controlType">
    <!-- TEXTAREA -->
    <ng-container *ngSwitchCase="'textarea'">
      <textarea matInput [rows]="gridProps?.rows * 2" [formControl]="control" [name]="key" (focusout)="validate()" (focus)="onFocus()"></textarea>
    </ng-container>

    <!-- CLEAVE FORMAT -->
    <ng-container *ngSwitchCase="'cleave'">
      <input matInput autocomplete="off" [formControl]="control" [cleave]="cleave" [name]="key" [type]="'text'"
        (focusout)="validate()" (focus)="onFocus()" #cleaveInput (input)="onValueChangedInput(cleaveInput.value)"/>
    </ng-container>

    <!-- TEXT/NUMBER -->
    <ng-container *ngSwitchDefault>
      <input matInput autocomplete="off" [formControl]="control" [name]="key" [type]="controlType" (focusout)="validate()"
        (focus)="onFocus()"/>
    </ng-container>
  </ng-container>

  <kkl-icon *ngIf="icon" matSuffix [color]="color$ | async" [size]="1.8" [key]="icon"></kkl-icon>

  <mat-error>{{ error$ | async }}</mat-error>
</mat-form-field>
