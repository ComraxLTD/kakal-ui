<div
  fxLayout="row"
  fxLayoutAlign="start center"
  dir="rtl"
  fxLayoutGap="1rem"
  fxFill
>
  <!-- slots buttons -->
  <ng-container>
    <ng-template
      *ngTemplateOutlet="
        startSlot;
        context: {
          $implicit: { item: this.item, column: this.column }
        }
      "
    ></ng-template>
  </ng-container>

  <ng-container *ngIf="editState$ | async as editState">
    <!-- edit button -->
    <ng-container *ngIf="editState.show; else saveBlock">
      <button
        mat-icon-button
        [class.mat-raised-button]="editState.disabled"
        (click)="onEdit()"
        matTooltip="ערוך"
        [disabled]="editState.disabled"
      >
        <kkl-icon key="edit"></kkl-icon>
      </button>
    </ng-container>

    <!-- save button -->
    <ng-template #saveBlock>
      <button
        mat-raised-button
        class="kkl-save-button"
        (click)="onSave(editState.event)"
        appBorder
        [disabled]="!editState.valid"
        matTooltip="שמור"
      >
        <kkl-typography color="text" [disabled]="!editState.valid">
          שמור
        </kkl-typography>
      </button>
      <button
        matTooltip="בטל"
        mat-icon-button
        (click)="onClose(editState.event)"
        matTooltip="בטל"
      >
        <kkl-icon key="cancel"></kkl-icon>
      </button>
    </ng-template>
  </ng-container>

  <!-- delete button -->
  <ng-container *ngIf="deleteState$ | async as deleteState">
    <ng-container *ngIf="deleteState.show">
      <button
        mat-icon-button
        (click)="onDelete()"
        [class.mat-raised-button]="deleteState.disabled"
        [disabled]="deleteState.disabled"
        matTooltip="מחק"
      >
        <kkl-icon key="delete"></kkl-icon>
      </button>
    </ng-container>
  </ng-container>

  <!-- slots buttons -->
  <ng-container>
    <ng-template
      *ngTemplateOutlet="
        endSlot;
        context: {
          $implicit: { item: this.item, column: this.column }
        }
      "
    ></ng-template>
  </ng-container>
</div>
