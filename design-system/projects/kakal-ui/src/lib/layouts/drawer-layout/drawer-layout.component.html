<mat-sidenav-container class="kkl-drawer-layout" dir="rtl">
  <mat-sidenav #drawer class="drawer-wrapper" mode="push" position="start">
    <div fxLayout="row" fxLayoutAlign="center center" fxFill>
      <div fxFlex="85" fxLayout="column" fxLayoutAlign="center center" fxFill>
        <div fxFlex="95" fxFill>
          <ng-container *ngIf="drawer.opened">
            <button
              (click)="drawer.toggle()"
              mat-fab
              [ngClass]="{
                'kkl-drawer-button': true,
                open: drawer.opened
              }"
              [matBadge]="drawer.opened ? 'x' : '+'"
              [matBadgeColor]="drawer.opened ? 'text' : 'primary'"
            >
              <kkl-icon
                color="primary"
                [key]="drawerAction?.svgIcon"
                [size]="1.8"
              >
              </kkl-icon>
              <kkl-typography [weight]="600" [size]="1">
                {{ drawerAction?.label }}
              </kkl-typography>
            </button>
          </ng-container>
          <ng-content select="[drawer]"></ng-content>
        </div>
      </div>
    </div>
  </mat-sidenav>

  <mat-sidenav-content>
    <!-- DRAWER BUTTON  -->

    <ng-container *ngIf="showStartDrawer$ | async">
      <div class="kkl-drawer-button'-wrapper">
        <ng-container *ngIf="!drawer.opened">
          <button
            mat-fab
            (click)="drawer.toggle()"
            [ngClass]="{
              'kkl-drawer-button': true,
              outside: true
            }"
            [matBadge]="drawer.opened ? 'x' : '+'"
            [matBadgeColor]="drawer.opened ? 'text' : 'primary'"
          >
            <kkl-icon
              color="primary"
              [key]="drawerAction?.svgIcon"
              [size]="1.8"
            >
            </kkl-icon>
            <kkl-typography [weight]="600" [size]="1">
              {{ drawerAction?.label }}
            </kkl-typography>
          </button>
        </ng-container>
      </div>
    </ng-container>

    <ng-content select="[content]"></ng-content>
  </mat-sidenav-content>
</mat-sidenav-container>
