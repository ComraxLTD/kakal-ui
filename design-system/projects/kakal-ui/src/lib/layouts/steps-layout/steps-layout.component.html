<kkl-drawer-layout class="kkl-steps-layout" [drawerAction]="drawerAction">
  <ng-content drawer select="[drawer]"></ng-content>

  <div fxLayout="column" content>
    <header>
      <mat-toolbar class="steps-layout-toolbar" dir="rtl">
        <div class="step-group">
          <ng-container
            *ngIf="stepsSelectionEvent$ | async as stepsSelectionEvent"
          >
            <ng-container *ngIf="mobile$ | async; else elseBlock">
              <kkl-navigation
                [stepsSelectionEvent]="stepsSelectionEvent"
                (stepSelection)="onSelectStep($event)"
              ></kkl-navigation>
            </ng-container>

            <ng-template #elseBlock>
              <kkl-step-group
                [steps]="stepsSelectionEvent.source"
                [stepsSelectionEvent]="stepsSelectionEvent"
                (stepSelection)="onSelectStep($event)"
              ></kkl-step-group>
            </ng-template>
          </ng-container>
        </div>

        <div class="actins-group" fxLayoutGap="1rem">
          <ng-container *ngFor="let action of rowActions">
            <kkl-action-button
              [matTooltip]="action.label"
              [svgIcon]="action?.svgIcon"
              [matIcon]="action?.matIcon"
              (clickEvent)="onActionClicked(action)"
            ></kkl-action-button>
          </ng-container>
        </div>
      </mat-toolbar>
    </header>

    <main fxLayout="row" fxLayoutAlign="center center">
      <div fxFlex="90">
        <ng-content select="[content]"></ng-content>
      </div>
    </main>
  </div>
</kkl-drawer-layout>
