<kkl-drawer-layout class="kkl-steps-layout" [drawerAction]="drawerAction">
  <ng-content drawer select="[drawer]"></ng-content>

  <div fxLayout="column" content>
    <header>
      <mat-toolbar class="steps-layout-toolbar" dir="rtl">
        <div class="step-group">
          <ng-container
            *ngIf="stepsSelectionEvent$ | async as stepsSelectionEvent"
          >
            <ng-container *ngIf="mobile$ | async; else elseBlock">
              <kkl-stepper-mobile
                [steps]="steps"
                [stepsSelectionEvent]="stepsSelectionEvent"
                (selectStep)="onSelectStep($event)"
              ></kkl-stepper-mobile>
            </ng-container>

            <ng-template #elseBlock>
              <kkl-step-group
                [steps]="steps"
                [stepsSelectionEvent]="stepsSelectionEvent"
                (stepSelection)="onSelectStep($event)"
              ></kkl-step-group>
            </ng-template>
          </ng-container>
        </div>
      </mat-toolbar>
    </header>
    <main fxLayout="row" fxLayoutAlign="center center">
      <div fxFlex="90">
        <ng-content select="[content]"></ng-content>
      </div>
    </main>
  </div>
</kkl-drawer-layout>
