<!-- <kkl-layout [cards]="cards"></kkl-layout> -->
<div fxLayout="row" fxLayoutAlign="center">
  <div fxFlex="90" fxLayout="column" fxLayoutGap="2rem">
    <kkl-accordion-steps-layout
      #accordionSteps
      fxFill
      [panels]="panels"
      [steps]="steps"
      [selectedIndex]="selectedIndex"
      [templates]="{filterForm, groupForm}"
      (stepSelect)="onSelectionChanged($event)"
    ></kkl-accordion-steps-layout>

    <div>
      <button (click)="next()" mat-raised-button>
        toggle to able next step
      </button>
    </div>
  </div>
  <!-- templates for layouts -->
  <ng-template #filterForm let-stepState>
    {{ stepState.index }}
    <app-form-flex [formGroup]="stepState.step.control"></app-form-flex>
  </ng-template>

  <ng-template #groupForm let-stepState>
    {{ stepState.index }}
    <app-form-flex
      [index]="stepState.index"
      [formGroup]="stepState.step.control"
    ></app-form-flex>
  </ng-template>
</div>
